function AlertsCtrl(e) {
	e.alerts = [{
			type : "announcement",
			title : "LATEST ANNOUNCEMENT",
			msg : "This is a place for announcements to be pushed for everyone to see. Can contain important information or notifications. Users will be able to close this if they wish, or leave it open."
		}, {
			type : "danger",
			title : "IMPORTANT ALERT",
			msg : "Found a bug? Create an issue with as many details as you can."
		}
	],
	e.addAlert = function () {
		e.alerts.push({
			msg : "Another alert!"
		})
	},
	e.closeAlert = function (t) {
		e.alerts.splice(t, 1)
	}
}
function ChartsCtrl(e) {
	var pluraldata = [{
			label : "Individuals",
			data : [1, 16]
		}, {
			label : "Groups",
			data : [1, 5]
		}
	];
	$.plot("#pluralitypercentage", pluraldata, {
		series : {
			pie : {
				show : true,
        radius: 1,
        label: {
          show:true,
          radius: 1/2,
          formatter: labelFormatter,
          background: {
            opacity: 0
          }
        }
			}
		},
    legend: {
      show: false
    },
		grid : {
      hoverable: true,
			clickable: true
		}
	}),
	$("#pluralitypercentage").bind("plotclick", function (event, pos, obj) {
	  if (obj) {
      document.getElementById("gendernumber").innerHTML = obj.series.data[0][1];
    };
	});
	var genderdata = [{
			label : "Male",
			data : [1, 8]
		}, {
			label : "Female",
			data : [1, 4]
		}
	];
	$.plot("#genderratio", genderdata, {
		series : {
			pie : {
				show : true,
        radius: 1,
        label: {
          show:true,
          radius: 1/2,
          formatter: labelFormatter,
          background: {
            opacity: 0
          }
        }
			}
		},
    legend: {
      show: false
    },
		grid : {
      hoverable: true,
			clickable: true
		}
	}),
	$("#genderratio").bind("plotclick", function (event, pos, obj) {
	  if (obj) {
      document.getElementById("gendernumber").innerHTML = obj.series.data[0][1];
    };
	})
  
  var hourlydata = [
    [0, 2], [1, 1], [2, 0], [3, 0], [4, 1], [5, 1], 
    [6, 2], [7, 4], [8, 3], [9, 2], [10, 6], [11, 8], 
    [12, 6], [13, 14], [14, 4], [15, 2], [16, 3], [17, 1],
    [18, 3], [19, 4], [20, 6], [21, 3], [22, 0], [23, 1]
	];
  $.plot("#hourgraph", [ hourlydata ]);
  
  
  var districtdata = [
    ["Ewa", 15], ["Leeward Coast", 23],
    ["Makakilo", 13], ["Kaneohe", 40],
    ["Kailua", 38], ["Diamond Head", 17],
    ["Metro Honolulu", 68], ["Pearl City", 25],
    ["Waipahu", 27], ["Central Oahu", 35],
    ["North Shore", 28]
  ];
  $.plot("#districtgraph", [ districtdata ], {
    series: {
      bars: {
        show: true,
        barWidth: 0.6,
        align: "center"
      }
    },
    xaxis: {
      mode: "categories",
      tickLength: 0,
    }
  });
}


function labelFormatter(label, series) {
  return "<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>" + label + "<br/>" + Math.round(series.percent) + "%</div>";
}

function parseBarGraph(e, t) {
	var outputarray = [];
	for (i = 0; i < e.length; i++)
		({ data : '[i, i]' });
	return outputarray
}

function MasterCtrl(e, t) {
	var a = 992;
	e.getWidth = function () {
		return window.innerWidth
	},
	e.$watch(e.getWidth, function (r, i) {
		r >= a ? angular.isDefined(t.get("toggle")) ? e.toggle = !!t.get("toggle") : e.toggle = !0 : e.toggle = !1
	}),
	e.toggleSidebar = function () {
		e.toggle = !e.toggle,
		t.put("toggle", e.toggle)
	},
	window.onresize = function () {
		e.$apply()
	}
}
function rdLoading() {
	var e = {
		restrict : "AE",
		template : '<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'
	};
	return e
}
function rdWidgetBody() {
	var e = {
		requires : "^rdWidget",
		scope : {
			loading : "@?",
			classes : "@?"
		},
		transclude : !0,
		template : '<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',
		restrict : "E"
	};
	return e
}
function rdWidgetFooter() {
	var e = {
		requires : "^rdWidget",
		transclude : !0,
		template : '<div class="widget-footer" ng-transclude></div>',
		restrict : "E"
	};
	return e
}
function rdWidgetTitle() {
	var e = {
		requires : "^rdWidget",
		scope : {
			title : "@",
			icon : "@"
		},
		transclude : !0,
		template : '<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',
		restrict : "E"
	};
	return e
}
function rdWidget() {
	var e = {
		transclude : !0,
		template : '<div class="widget" ng-transclude></div>',
		restrict : "EA"
	};
	return e
}
angular.module("RDash", ["ui.bootstrap", "ui.router", "ngCookies"]), angular.module("RDash").config(["$stateProvider", "$urlRouterProvider", function (e, t) {
			t.otherwise("/"),
			e.state("index", {
				url : "/",
				templateUrl : "pages/login.html"
			}).state("public", {
				"abstract" : !0,
				template : "<ui-view/>"
			}).state("public.site", {
				url : "/site",
				controllerAs : "site",
				templateUrl : "pages/site.html"
			}).state("public.site.login", {
				url : "/login",
				templateUrl : "pages/login.html"
			}).state("private", {
				"abstract" : !0,
				template : "<ui-view/>"
			}).state("private.admin", {
				url : "/admin",
				controllerAs : "admin",
				templateUrl : "pages/admin/admin.html"
			}).state("private.admin.dashboard", {
				url : "/dashboard",
				templateUrl : "pages/admin/dashboard.html"
			}).state("private.admin.coordinators", {
				url : "/coordinators",
				templateUrl : "pages/admin/coordinators.html"
			}).state("private.admin.appcontent", {
				url : "/appcontent",
				templateUrl : "pages/admin/appcontent.html"
			}).state("private.admin.charts", {
				url : "/charts",
				templateUrl : "pages/admin/charts.html"
			})
		}
	]), angular.module("RDash").controller("ChartsCtrl", ["$scope", ChartsCtrl]), angular.module("RDash").controller("AlertsCtrl", ["$scope", AlertsCtrl]), angular.module("RDash").controller("MasterCtrl", ["$scope", "$cookieStore", MasterCtrl]), angular.module("RDash").directive("rdLoading", rdLoading), angular.module("RDash").directive("rdWidgetBody", rdWidgetBody), angular.module("RDash").directive("rdWidgetFooter", rdWidgetFooter), angular.module("RDash").directive("rdWidgetHeader", rdWidgetTitle), angular.module("RDash").directive("rdWidget", rdWidget);
